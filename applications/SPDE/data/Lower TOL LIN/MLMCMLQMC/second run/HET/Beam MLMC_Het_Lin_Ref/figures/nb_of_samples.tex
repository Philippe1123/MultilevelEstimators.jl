\RequirePackage{luatex85}
\documentclass[tikz]{standalone}
% Default preamble
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usepgfplotslibrary{groupplots}
\usepgfplotslibrary{polar}
\usepgfplotslibrary{statistics}
\usepgfplotslibrary{dateplot}
% Custom preamble from global variable:
\usepackage{amsfonts}
\newcommand{\littletriangle}[1]
{
    \pgfplotsextra
    {
        \pgfkeysgetvalue{/pgfplots/xmin}{\xmin}
        \pgfkeysgetvalue{/pgfplots/xmax}{\xmax}
        \pgfkeysgetvalue{/pgfplots/ymin}{\ymin}
        \pgfkeysgetvalue{/pgfplots/ymax}{\ymax}

        \pgfmathsetmacro{\xArel}{0.25}
        \pgfmathsetmacro{\yArel}{0.1}
        \pgfmathsetmacro{\xBrel}{0.1}
        \pgfmathsetmacro{\yBrel}{\yArel}
        \pgfmathsetmacro{\xCrel}{\xBrel}

        \pgfmathsetmacro{\lnxB}{\xmin*(1-(0.1))+\xmax*(0.1)}
        \pgfmathsetmacro{\lnxA}{\xmin*(1-0.25)+\xmax*0.25}
        \pgfmathsetmacro{\lnyA}{\ymin*(1-0.1)+\ymax*0.1}
        \pgfmathsetmacro{\lnyC}{\lnyA+#1*(\lnxA-\lnxB)}
        \pgfmathsetmacro{\yCrel}{\lnyC-\ymin)/(\ymax-\ymin)}
        
        \coordinate (A) at (rel axis cs:\xArel,\yArel);
        \coordinate (B) at (rel axis cs:\xBrel,\yBrel);
        \coordinate (C) at (rel axis cs:\xCrel,\yCrel);

        \draw[black]   (A)--node[pos=0.9,yshift=1ex,xshift=0.5ex] {\small #1}
                    (B)--
                    (C)-- 
                    cycle;
    }
}

\newcommand{\drawsquare}[3]{\draw[thick,black,fill=#3] (#1,#2)--(#1,#2+1)--(#1+1,#2+1)--(#1+1,#2)--cycle;}


\begin{document}
\begin{tikzpicture}
\begin{axis}[ticklabel style={{font=\small}}, major tick length={2pt}, every tick/.style={{black, line cap=round}}, axis on top, legend style={{draw=none, font=\small, at={(0.03,0.03)}, anchor=south west, fill=none, legend cell align=left}}, xlabel={$\ell$}, xtick distance={1}, ylabel={$N_\ell$}, ymode={log}, legend style={{draw=none, font=\small, at={(0.97,0.97)}, anchor=north east, fill=none, legend cell align=left}}]
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,0.5;green,0.0;blue,0.0}]
        table[row sep={\\}]
        {
            \\
            0  77379  \\
            1  9203  \\
            2  1872  \\
            3  439  \\
        }
        ;
    \addlegendentry {$\varepsilon=$3.861e-05}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,0.9444444444444446;green,0.0;blue,0.0}]
        table[row sep={\\}]
        {
            \\
            0  44691  \\
            1  5341  \\
            2  1056  \\
            3  226  \\
        }
        ;
    \addlegendentry {$\varepsilon=$5.019e-05}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,1.0;green,0.38888888888888884;blue,0.0}]
        table[row sep={\\}]
        {
            \\
            0  26268  \\
            1  3165  \\
            2  605  \\
            3  132  \\
        }
        ;
    \addlegendentry {$\varepsilon=$6.525e-05}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,1.0;green,0.8333333333333335;blue,0.0}]
        table[row sep={\\}]
        {
            \\
            0  15658  \\
            1  1910  \\
            2  374  \\
            3  76  \\
        }
        ;
    \addlegendentry {$\varepsilon=$8.483e-05}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,0.7222222222222223;green,1.0;blue,0.2777777777777777}]
        table[row sep={\\}]
        {
            \\
            0  9087  \\
            1  1094  \\
            2  199  \\
            3  38  \\
        }
        ;
    \addlegendentry {$\varepsilon=$1.103e-04}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,0.2777777777777777;green,1.0;blue,0.7222222222222223}]
        table[row sep={\\}]
        {
            \\
            0  5354  \\
            1  644  \\
            2  117  \\
            3  18  \\
        }
        ;
    \addlegendentry {$\varepsilon=$1.434e-04}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,0.0;green,0.8333333333333333;blue,1.0}]
        table[row sep={\\}]
        {
            \\
            0  3183  \\
            1  362  \\
            2  70  \\
            3  13  \\
        }
        ;
    \addlegendentry {$\varepsilon=$1.864e-04}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,0.0;green,0.38888888888888884;blue,1.0}]
        table[row sep={\\}]
        {
            \\
            0  1899  \\
            1  216  \\
            2  40  \\
            3  9  \\
        }
        ;
    \addlegendentry {$\varepsilon=$2.423e-04}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,0.0;green,0.0;blue,0.9444444444444444}]
        table[row sep={\\}]
        {
            \\
            0  1116  \\
            1  117  \\
            2  40  \\
            3  6  \\
        }
        ;
    \addlegendentry {$\varepsilon=$3.150e-04}
    \addplot[mark={*}, mark size={1pt}, line cap={round}, mark options={solid}, color={rgb,1:red,0.0;green,0.0;blue,0.5}]
        table[row sep={\\}]
        {
            \\
            0  641  \\
            1  65  \\
            2  40  \\
            3  5  \\
        }
        ;
    \addlegendentry {$\varepsilon=$4.094e-04}
\end{axis}
\end{tikzpicture}
\end{document}
